*Лабораторна робота №1. Введення в розробку модулів ядра*.

	*Завдання*:

* зібрати мінімальне ядро Linux
* зібрати мінімальне ядро Linux з використанням BusyBox
* написати та зібрати власний модуль ядра на основі прикладу з ``demo/lab1/`` змінити модуль власний модуль таким чином, щоб в нього можна було передавати 
  аргумет у вигляді им'я користувача. Якщо аргумент не переданий - виводиться попередження.
* Зібрати даний модуль та запустити на зібраному ядрі.

	*Хід роботи*:

Для початку потрібно встановити ``base-devel`` пакети та ``QEMU``.

Наступним кроком було створено файл конфігурації лінукс ядра, його налагодження та сбірка. На етапі збіркі було зібрано тільки ядро.

Збірка була виконана командою:

	``make vmlinux -jN``

Далі була налаштування busybox,ця утиліта є  необхідною для завантаження модулів до зібраного ранміше ядра. Збірка та завантаження busybox виконується за настуними командими:

	``make -jN``
	
	``make -jN install, де N - (кількість ядер + 1)``

	*Збірка модуля*:

Для того щоб зібрати модуль потрібно створити Makefile, в дирикторії з Make та вихідним файлом виконати ``make modules``

	*Використані макроси та функції*:

``MODULE_DESCRIPTION`` - макрос для опису модуля

``MODULE_AUTHOR`` - автор модуля

``MODULE_VERSION`` - версія модуля

``MODULE_LICENSE`` - тип ліцензії

``module_param`` - використовується для визначення вхідних параметрів модуля;

``jiffies_delta_to_msecs`` - використовується для розрахунку проміжку часу.

``printk`` - використовується для виводу у консоль.


	*Результат роботи модуля*:

*З уведеним аргументом*

.. code-block:: bash

	[  109.634477] firstmod: loading out-of-tree module taints kernel.
	[  109.649362] Hello, dear oldem!
	[  109.649362] jiffies = 4294776963
	[  109.653694] insmod (97) used greatest stack depth: 13664 bytes left
	/ # rmmod firstmod
	[  162.569952] Long live the Kernel, see you next time!
	[  162.570348] Worked = 52 secs

*Без введеного аргументу*

.. code-block:: bash

	[  203.842013] Something is incorrect with it
	[  203.842247] Hello, dear $username!
	[  203.842247] jiffies = 4294871156
	/ # rmmod firstmod
	[  205.742503] Long live the Kernel, see you next time!
	[  205.743222] Worked = 1 secs

	*Висновки*

В результаті роботи було зібрано Linux ядро та модуль до нього. Для перевірки роботи запустили даний модуль та ядро у QEMU. Впенилися, що модуль працює корректно та виконує поставлені задачі.